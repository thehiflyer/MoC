MoC is a mocking framework for lua written by hiflyer (hiflyer@fearlessgames.se)
The design of MoC is inspired by the excellent java mocking framework Mockachino written by krka. Thanks also goes to krka for helping me with the initial draft.

MoC is licensed under the MIT license which is supplied in the source code.

The name MoC indicates that it's a mocking framework but it is really an initialism for Made of Cheese


How do I use MoC?

Download the file moc.lua and add it to a path your lua require can reach.
Then you have to define a function fail(message). This is the function that will get called with an error message when a verification fails.
That's it, MoC is now ready to use.


To create a mock object, just call

local mock = MoC:New()

You can now use the object and all methods on it will record usage

mock:Foo()
mock:Bar("Yadda, yadda")

And then verify that the methods were called

verifyOnce():on(mock):Foo() -- will succeed
verifyAtLeast(2):on(mock):Bar() -- will fail

MoC currently doesn't support verification based on the parameters used.


For example usage, have a look at the test cases supplied in the test folder. These tests run in any environment specifying the assert* functions, in the case of MoC development they were run on the Kahlua machine using the kahlua-test project.

Version History:

0.1
	- Initial version
	- Support for verification of calls (no parameter matching)

TODO:
* Add support for parameter matching
* Add support for stubs